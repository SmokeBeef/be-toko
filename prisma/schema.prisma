// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
  
}

enum roleUser {
  admin
  kasir
}

model user {
  id       String   @id @db.VarChar(100)
  nama     String   @db.VarChar(100)
  email    String   @unique @db.VarChar(100)
  password String   @db.VarChar(200)
  token    String?  @db.Text
  role     roleUser
  createAt DateTime @db.Date
  updateAt DateTime @updatedAt @db.Date

  @@map("user")
}

model barang {
  id       Int      @id @default(autoincrement())
  nama     String   @db.VarChar(100)
  harga    Int
  jumlah   Int      @default(0)

  @@map("barang")
}

model transaksi {
  id            Int      @id @default(autoincrement())
  idUser        String   @db.VarChar(100)
  total         Int

  detail detailTransaksi[]

  @@map("transaksi")
}

model detailTransaksi {
  id          Int @id @default(autoincrement())
  idTransaksi Int
  idBarang    Int
  totalBarang Int

  Transaksi transaksi @relation(fields: [idTransaksi], references: [id])

  @@map("detailTransaksi")
}
